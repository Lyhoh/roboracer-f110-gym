# pure_pursuit:
/**:
  ros__parameters:

    # --- Topics (two-agent interface) ---
    odom_topic_ego: /ego_racecar/odom
    odom_topic_opp: /opp_racecar/odom
    drive_topic_ego: /drive
    drive_topic_opp: /opp_drive

    # --- Paths (same base path for both cars) ---
    # Replace with your absolute path to the CSV
    path_csv_ego: "/home/lyh/ros2_ws/src/f110_gym/global-planning/outputs/map5/traj_race_cl.csv"
    path_csv_opp: ""           # unused when use_same_path=true
    use_same_path: true

    # --- CSV layout (matches your header) ---
    # Header: s_m(0); x_m(1); y_m(2); psi_rad(3); kappa(4); vx_mps(5); ax_mps2(6)
    csv_delimiter: ";"
    csv_comment: "#"
    x_col: 1
    y_col: 2
    psi_col: 3
    vx_col: 5

    # --- Vehicle & controller base params ---
    wheelbase: 0.33
    steer_limit_deg: 24.0
    publish_rate: 40.0
    steering_rate_limit: 3.0   # rad/s

    # --- Lateral offsets (meters): + = left of path tangent, - = right ---
    lateral_offset_ego: -0.5   #0.40
    lateral_offset_opp: 0.5   #-0.40

    # --- Lookahead tuning ---
    ld_min_ego: 0.6
    ld_k_ego:   0.3
    ld_min_opp: 0.6
    ld_k_opp:   0.3

    # --- Speed policy (Ego faster than Opp) ---
    # Option A: use vx_mps from the path with scaling and a max cap
    use_path_speed_ego: false  # true
    speed_scale_ego:    1.10   # Ego runs 10% faster than path vx
    v_target_max_ego:   4.5    # upper cap (m/s)
    v_ramp_rate_ego:    2.0    # startup speed ramp (m/s^2)

    use_path_speed_opp: false  # true
    speed_scale_opp:    0.95   # Opp runs 5% slower than path vx
    v_target_max_opp:   4.0
    v_ramp_rate_opp:    2.0

    # Option B: constant targets if not using path vx (set use_path_speed_* = false)
    v_target_ego: 1.0  # 3.5, 2.0
    v_target_opp: 0.0  # 3.0, 2.0
